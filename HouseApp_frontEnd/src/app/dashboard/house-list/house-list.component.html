<div class="container" style="margin-top:20px;margin-bottom:30px">

  <div class="row">
    <div class="col">
      <div class="page-title"
        style="font-size:35px;font-family: 'Open Sans', sans-serif;font-weight: 600;color:#052a30;">House
        List</div>

    </div>
    <div class="col text-right">
      <button routerLink="/dashboard/create-house" class="btn btn-primary"><b>+</b> Add house
      </button>
    </div>
  </div>
  <hr style="background-color: black ">

  <div style="cursor: context-menu;">
    <div class="card" style="margin-top:15px ;box-shadow: 2px 3px 6px  rgba(0,0,0,0.16);">
      <div class="card-body">
        <h5 class="card-title">Search</h5>
        <div class="row">
          <div class="col-9"><input type="text" class="form-control" [(ngModel)]="search" placeholder="search by text"
              aria-label="După titlu sau conținut" aria-describedby="basic-addon2"></div>
          <div class="col-3">
            <button class="btn btn-secondary" style="margin-top:-1px" (click)="getFilter();">Search by text</button>
          </div>
        </div>
        <div class="row" style="margin-top:20px">

          <div class="col-3">
            <input type="text" class="form-control" [(ngModel)]="price1" aria-describedby="basic-addon2"
              placeholder="50000$">
          </div><span style="margin-top:5px">-</span>
          <div class="col-3">
            <input type="text" class="form-control" [(ngModel)]="price2" aria-describedby="basic-addon2"
              placeholder="60000$">
          </div>

          <button class="btn btn-secondary" style="margin-top:-1px" (click)="getFilterByTags()">Search by price</button>
        </div>


        <div class="input-group mb-3">

        </div>

      </div>
    </div>
  </div>

  <div style="margin:20px">
    <div *ngIf="houses.error">
      <h2>{{houses.error}}</h2>
    </div>
    <div *ngIf="houses.message">
      <h2>{{houses.message}}</h2>
    </div>
  </div>

  <div class="row" *ngIf="this.houses.value">
    <div class="col-6" *ngFor="let house of houses.value">
      <mat-card class="example-card">
        <img mat-card-image src="">
        <mat-card-content>
          <p style="text-align:center">
            {{house.title}}
          </p>
          <div style="text-align:center">
            <img src="{{getImageFromHouses(house)}}" onerror="this.style.display='none'"
              style="margin-top:10px;width:300px;height:auto;background-size:cover;background-position:center;text-align:center">
          </div>

          <h5 style="margin-top:10px;text-align:center">Since {{house.date | date : 'dd MMM. yyyy '}} </h5>

        </mat-card-content>
        <mat-card-actions style="text-align:center">
          <button type="button" (click)="getHouseId(house)" class="btn btn-danger" data-toggle="modal"
            data-target="#exampleModal1">Delete</button>
          <button (click)="modifyHouseDetail(house) " type="button" class="btn btn-secondary">Modify Details</button>
          <button (click)="openHouseDetail(house)" type="button" class="btn btn-success">View</button>
        </mat-card-actions>
      </mat-card>

    </div>

  </div>

</div>

<!-- Delete House Modal -->
<div class="modal fade" id="exampleModal1" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
  aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Advertisment</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        Advertisment text
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-success" data-dismiss="modal" (click)="deleteHouse()">Yes</button>
      </div>
    </div>
  </div>
</div>